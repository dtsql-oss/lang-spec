
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation and specification of DTSQL (Declarative Time Series Description Language). Contains a definition of the syntax and semantics of its language concepts as well as meta-information regarding its data model and how to supply data to an DTSQL implementation. ">
      
      
        <meta name="author" content="Raffael Foidl">
      
      
        <link rel="canonical" href="https://example.com/query-language/events/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>Events - DTSQL Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#events" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DTSQL Documentation" class="md-header__button md-logo" aria-label="DTSQL Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DTSQL Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Events
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch theme"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch theme" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch theme"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch theme" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dtsql-oss/lang-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link md-tabs__link--active">
        Language Specification
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../data-structures/data-structures/" class="md-tabs__link">
      Data Structures
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../query-api/query-api-overview/" class="md-tabs__link">
        Query API
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DTSQL Documentation" class="md-nav__button md-logo" aria-label="DTSQL Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    DTSQL Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dtsql-oss/lang-spec" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Language Specification
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Language Specification" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Language Specification
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        DTSQL Query Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samples/" class="md-nav__link">
        Samples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        Filters
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Events
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Events
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-functions" class="md-nav__link">
    Event Functions
  </a>
  
    <nav class="md-nav" aria-label="Event Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-events" class="md-nav__link">
    Filter Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-events" class="md-nav__link">
    Complex Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../selection/" class="md-nav__link">
        Selection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../yield/" class="md-nav__link">
        Yield
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../data-structures/data-structures/" class="md-nav__link">
        Data Structures
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Query API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Query API" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Query API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../query-api/query-api-overview/" class="md-nav__link">
        Query API Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Supported Storage Mechanisms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Supported Storage Mechanisms" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Supported Storage Mechanisms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../query-api/storage-mechanisms/csv/" class="md-nav__link">
        CSV Storage Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../query-api/storage-mechanisms/influxdb/" class="md-nav__link">
        InfluxDB Storage Service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-functions" class="md-nav__link">
    Event Functions
  </a>
  
    <nav class="md-nav" aria-label="Event Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-events" class="md-nav__link">
    Filter Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-events" class="md-nav__link">
    Complex Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="events">Events<a class="headerlink" href="#events" title="Permanent link">#</a></h1>
<p>An event is a declarative specification of intervals in which some condition(s) hold(s).
In other words, they are used to detect periods where areas of interest occur.
Events are evaluated <em>after</em> filter application.
In fact, they extend the notion of filters by considering detected intervals as <em>continuous</em> (i.e., without interruption) (sub-)series of data points for which a propositional formula composed of event function instances is satisfied.
The difference to filters is that, with events, data points are not examined individually anymore, but they are grouped together to form periods satisfying the criteria imposed by the formula.</p>
<div class="admonition abstract">
<p class="admonition-title">Abstract: Types of DTSQL Events</p>
<ol>
<li><em>Filter Events</em>: They are syntactically and semantically equivalent to <a href="../filters/#filter-functions">filter functions</a> with respect to the filtered time series.</li>
<li><em>Complex Events</em>: They are broader and, typically, conceptually more involved and may capture any type of occurrence in a time series as long as it can be specified formally.</li>
</ol>
</div>
<p>There is one key commonality among all kinds of event functions.
Generally, DTSQL is only interested in <em>maximal interval</em>, i.e., ones that cannot be extended without violating the event function.
For filter events, this means that extensions of the respective interval by exactly one data point to the left and right, respectively, are examined (looking further than that could produce intervals with gaps, which are not considered).
For complex events, the situation is more difficult: It may be possible to extend an interval in either direction (temporarily violating the event function) and extending it even more to, in the end, satisfy it again.
In other words, extending a valid <em>locally maximal</em> interval might yield a valid <em>globally maximal</em> interval despite potentially invalidating it temporarily.</p>
<p>In order to compose a propositional formula of event function instances, the following keywords are available:</p>
<ul>
<li>conjunction: <code>AND</code> (n-ary)</li>
<li>disjunction: <code>OR</code> (n-ary)</li>
<li>negation: <code>NOT</code> (unary)</li>
</ul>
<details class="warning" open="open">
<summary>Warning: Syntactic Restrictions of Event Formulas</summary>
<p>At the moment, DTSQL does <strong>not</strong> support nested conjunctions and disjunctions.
This means, formulas like <code>AND(a, b, NOT(c))</code> or <code>OR(NOT(a), NOT(b), c)</code> are expressible, but ones like <code>AND(AND(a), b)</code> or <code>NOT(AND(a, b), OR(NOT(c), d))</code> are not.</p>
<p>More specifically, root elements of a formula must be either <code>AND</code> or <code>OR</code> and may only contain arbitrarily many positive or negated (using <code>NOT</code>) filter function instances. </p>
</details>
<details class="bug">
<summary>Bug: Shortcoming of Reference Implementation Regarding Event Formulas</summary>
<p>The current DTSQL reference implementation is not yet able to combine a complex event function instance with other event function instances.
In other words, if an event formula contains a complex event function instance, it must not contain any other event function instance.
Mixing and combining filter event functions is supported the same way it is for <a href="../filters/#filters">filter definitions</a>, though. </p>
</details>
<p>In summary, the syntax of DTSQL&rsquo;s events component is:</p>
<div class="highlight"><pre><span></span><code>[&#39;USING EVENTS:&#39;
  {&#39;AND(&#39;|&#39;OR(&#39;}{&#39;NOT(&#39;&lt;eventFunction&gt;&#39;)&#39;|&lt;eventFunction&gt;}...&#39;)&#39;
  [&#39;FOR&#39; {&#39;(&#39;|&#39;[&#39;} [&lt;minLength&gt;]&#39;,&#39; [&lt;maxLength&gt;] {&#39;)&#39;|&#39;]&#39;} &lt;unit&gt;]
  &#39;AS&#39; &lt;eventIdentifier&gt;...]
</code></pre></div>
<p>Again, the component is optional.
However, should it be present, then at least one event function instance must be declared.
The <code>&lt;eventFunction&gt;</code> placeholder is to be replaced by event function instances as explained below (with commas <code>,</code> as separator).
Note that, if only one event function instance is used, then the choice of <code>AND</code> vs. <code>OR</code> does not make a difference.
Unlike the filter component, the events component may declare multiple events (with commas <code>,</code> as separator) and assign identifiers to them such that they may be reused in the <a href="../selection/">selection component</a>.
Furthermore, an event may be equipped with a duration constraint: <code>&lt;minLength&gt;</code> and <code>&lt;maxLength&gt;</code> are optional integers specifying the required length of the event (leaving them out represents 0 and &ldquo;infinity&rdquo;, respectively).
The inclusiveness or exclusiveness of the minimum and maximum is determined based on the parenthesis used:</p>
<table>
<thead>
<tr>
<th></th>
<th>lower bound</th>
<th>upper bound</th>
</tr>
</thead>
<tbody>
<tr>
<td>inclusive</td>
<td><code>[</code></td>
<td><code>]</code></td>
</tr>
<tr>
<td>exclusive</td>
<td><code>(</code></td>
<td><code>)</code></td>
</tr>
</tbody>
</table>
<p>Finally, <code>&lt;unit&gt;</code> should be replaced by a <a href="../../data-structures/data-structures/#time">supported time unit</a>.</p>
<h2 id="event-functions">Event Functions<a class="headerlink" href="#event-functions" title="Permanent link">#</a></h2>
<h3 id="filter-events">Filter Events<a class="headerlink" href="#filter-events" title="Permanent link">#</a></h3>
<dl>
<dt><code>lt({&lt;threshold&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Represents maximal intervals where the value component is less than the threshold (which may refer to a sample).</p>
</dd>
<dt><code>gt({&lt;threshold&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Represents maximal intervals where the value component is greater than the threshold (which may refer to a sample).</p>
</dd>
<dt><code>around(abs, {&lt;reference&gt;|&lt;sampleIdentifier&gt;}, {&lt;deviation&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Represents maximal intervals where the absolute difference between the value component and the reference value (which may refer to a sample) is less than the maximum deviation (which may refer to a sample).</p>
</dd>
<dt><code>around(rel, {&lt;reference&gt;|&lt;sampleIdentifier&gt;}, {&lt;deviation&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Represents maximal intervals where if the relative (percentage-wise) difference between the value component and the reference value (which may refer to a sample) is less than the maximum deviation (which may refer to a sample). The reference value must not be equal to zero.</p>
</dd>
<dt><code>before(&lt;threshold&gt;)</code></dt>
<dd>
<p>Represents maximal intervals where  the time component is before the temporal threshold.</p>
</dd>
<dt><code>after(&lt;threshold&gt;)</code></dt>
<dd>
<p>Represents maximal intervals where  the time component is after the temporal threshold.</p>
</dd>
</dl>
<h3 id="complex-events">Complex Events<a class="headerlink" href="#complex-events" title="Permanent link">#</a></h3>
<dl>
<dt><code>const({&lt;slope&gt;|&lt;sampleIdentifier&gt;}, {&lt;deviation&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Detects maximal intervals with (approximately) constant values.
  This means the absolute value of the slope of the regression line in such an interval is not greater than the specified slope (which may refer to a sample) in percent (must not be less than 0).
  Furthermore, the values of the interval may not deviate more than the specified deviation (which may refer to a sample) in percent from the interval&rsquo;s average (must not be less than 0).</p>
</dd>
<dt><code>increase({&lt;minChange&gt;|&lt;sampleIdentifier&gt;}, {&lt;maxChange&gt;|&lt;sampleIdentifier&gt;}, {&lt;tolerance&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Detects maximal intervals depicting (approximately) monotonic increases.
   The change in value captured by the interval must be non-negative and between the specified minimum and maximum change (which both may refer to a sample and must not be less than 0; &ldquo;infinity&rdquo; upper bound can be expressed using <code>-</code>).
   Temporary decreases in value are tolerated as long as their respective instantaneous rate of change does not fall below <code>-t</code> percent, where <code>t</code> represents the specified tolerance (which may refer to a sample).</p>
</dd>
<dt><code>decrease({&lt;minChange&gt;|&lt;sampleIdentifier&gt;}, {&lt;maxChange&gt;|&lt;sampleIdentifier&gt;}, {&lt;tolerance&gt;|&lt;sampleIdentifier&gt;})</code></dt>
<dd>
<p>Detects maximal intervals depicting (approximately) monotonic decreases.
   The change in value captured by the interval must be non-positive and between the specified minimum and maximum change (which both may refer to a sample and must not be less than 0; &ldquo;infinity&rdquo; upper bound can be expressed using <code>-</code>).
   Temporary increases in value are tolerated as long as their respective instantaneous rate of change does not exceed <code>+t</code> percent, where <code>t</code> represents the specified tolerance (which may refer to a sample).</p>
</dd>
</dl>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h2>
<details class="example">
<summary>Example: Events Component (1)</summary>
<p>The events component below should detect two kinds of incidents:</p>
<ol>
<li>Periods in which the recorded value is either above 300 or below 100 for at least 30 minutes.</li>
<li>Periods of rapid, steep monotonic increases of at least 50 % in the space of 45 seconds with a tolerance against decreases of 5.75 %.
   Also, such periods should not appear before January 10th 2022.</li>
</ol>
<div class="highlight"><pre><span></span><code>USING EVENTS:
  OR(gt(300), lt(100)) FOR [30,] minutes AS e1,
  AND(
       increase(50, -, 5.75),
       NOT(before(&quot;2022-01-10T00:00:00Z&quot;))
     ) FOR [,45] seconds AS e2
</code></pre></div>
</details>
<details class="example">
<summary>Example: Events Component (2)</summary>
<p>The events component below should detect two kinds of incidents:</p>
<ol>
<li>Periods in which the value is above the global average.</li>
<li>Periods in which the value is below or equal to the global average.</li>
</ol>
<div class="highlight"><pre><span></span><code>WITH SAMPLES:
  avg() AS avgGlobal
USING EVENTS:
  AND(gt(avgGlobal)) AS e1,
  AND(NOT(gt(avgGlobal))) AS e2
</code></pre></div>
</details>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../filters/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Filters" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Filters
            </div>
          </div>
        </a>
      
      
        
        <a href="../selection/" class="md-footer__link md-footer__link--next" aria-label="Next: Selection" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Selection
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2023 Raffael Foidl
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/dtsql-oss/lang-spec" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.078830c0.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../js/tablesort.js"></script>
      
    
  </body>
</html>